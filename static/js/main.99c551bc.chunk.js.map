{"version":3,"sources":["api/api.js","api/posts.js","components/PostsList/PostsList.jsx","api/comments.js","components/NewCommentForm/NewCommentForm.jsx","components/PostDetails/PostDetails.jsx","App.jsx","index.js"],"names":["BASE_URL","getPosts","fetch","then","response","json","result","data","getPostDetails","selectedPostId","PostsList","onTakePost","searchByUser","useState","posts","setPosts","viewDetails","setViewDetails","useEffect","filter","item","userId","filteredResult","className","map","key","id","title","type","classNames","PostsList__button","button","onClick","defaultProps","request","path","options","getPostComments","resultArr","postId","NewCommentForm","newRenderOfComments","userName","setUserName","userEmail","setUserEmail","comment","setComment","addNewComment","a","name","email","body","method","JSON","stringify","onSubmit","event","preventDefault","placeholder","value","onChange","target","PostDetails","postComments","setpostComments","selectedPost","setSelectedPost","hideComments","setHideComments","handleDelete","length","App","setSelecteUserId","setSelecteUser","setSearchByUser","post","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.99c551bc.chunk.js","sourcesContent":["export const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport const getPosts = () => fetch(`${BASE_URL}/posts`)\n  .then(response => response.json())\n  .then(result => result.data);\n","import { BASE_URL } from './api';\n\nexport const getUserPost = selectedPostId => fetch(`${BASE_URL}/comments`)\n  .then(response => response.json())\n  .then(result => result.data)\n  .then(resultArr => resultArr.filter(\n    item => item.postId && (item.body.trim() !== ''),\n  ))\n  .then(resultFiltered => resultFiltered.filter(\n    item => item.postId === selectedPostId,\n  ));\n\nexport const getPostDetails = selectedPostId => fetch(\n  `${BASE_URL}/posts/${selectedPostId}`,\n)\n  .then(response => response.json())\n  .then(result => result.data);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { getPosts } from '../../api/api';\nimport { getPostDetails } from '../../api/posts';\nimport './PostsList.scss';\n\nexport const PostsList = ({ onTakePost, searchByUser }) => {\n  const [posts, setPosts] = useState([]);\n  const [viewDetails, setViewDetails] = useState(0);\n\n  useEffect(() => {\n    if (+searchByUser === 0) {\n      getPosts()\n        .then(result => setPosts(result));\n\n      return;\n    }\n\n    getPosts()\n      .then(result => result.filter(item => item.userId === +searchByUser))\n      .then(filteredResult => setPosts(filteredResult));\n  }, [searchByUser]);\n\n  return (\n    <div className=\"PostsList\">\n      <h2>Posts:</h2>\n\n      <ul className=\"PostsList__list\">\n        {posts.map(item => (\n          <li className=\"PostsList__item\" key={item.id}>\n            <div>\n              <b>\n                {`[User ${item.userId}]:`}\n                {' '}\n              </b>\n              {item.title}\n            </div>\n            <button\n              type=\"button\"\n              className={classNames({\n                PostsList__button: true,\n                button: true,\n              })}\n              onClick={() => {\n                if (viewDetails === item.id) {\n                  onTakePost(null, null);\n                  setViewDetails(null);\n\n                  return;\n                }\n\n                getPostDetails(item.id);\n                setViewDetails(item.id);\n                onTakePost(item.id, item);\n              }}\n            >\n              {\n                viewDetails === item.id\n                  ? 'Close'\n                  : 'Open'\n              }\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nPostsList.propTypes = {\n  onTakePost: PropTypes.func.isRequired,\n  searchByUser: PropTypes.number,\n};\n\nPostsList.defaultProps = {\n  searchByUser: 0,\n};\n","import { BASE_URL } from './api';\n\nexport const request = (path, options) => fetch(`${BASE_URL}${path}`, options)\n  .then(response => response.json())\n  .then(result => result.data);\n\nexport const getPostComments = selectedPostId => request('/comments')\n  .then(resultArr => resultArr.filter(\n    item => item.postId === selectedPostId,\n  ));\n\nexport const deleteComment = commentId => request(`/comments/${commentId}`, {\n  method: 'DELETE',\n});\n\nexport const addComment = (postId, name, email, body) => request(`/comments`, {\n  method: 'POST',\n  body: JSON.stringify({\n    postId,\n    name,\n    email,\n    body,\n  }),\n});\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { addComment } from '../../api/comments';\nimport './NewCommentForm.scss';\n\nexport const NewCommentForm = ({ selectedPostId, newRenderOfComments }) => {\n  const [userName, setUserName] = useState('');\n  const [userEmail, setUserEmail] = useState('');\n  const [comment, setComment] = useState('');\n\n  const addNewComment = async() => {\n    await addComment(selectedPostId, userName, userEmail, comment);\n    newRenderOfComments(selectedPostId);\n  };\n\n  return (\n    <form\n      className=\"NewCommentForm\"\n      onSubmit={(event) => {\n        event.preventDefault();\n        addNewComment();\n      }}\n    >\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Your name\"\n          className=\"NewCommentForm__input\"\n          value={userName}\n          onChange={({ target }) => setUserName(target.value)}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"email\"\n          placeholder=\"Your email\"\n          className=\"NewCommentForm__input\"\n          value={userEmail}\n          onChange={({ target }) => setUserEmail(target.value)}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <textarea\n          name=\"body\"\n          placeholder=\"Type comment here\"\n          className=\"NewCommentForm__input\"\n          value={comment}\n          onChange={({ target }) => setComment(target.value)}\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"NewCommentForm__submit-button button\"\n      >\n        Add a comment\n      </button>\n    </form>\n  );\n};\n\nNewCommentForm.propTypes = {\n  selectedPostId: PropTypes.number.isRequired,\n  newRenderOfComments: PropTypes.func.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { getPostDetails } from '../../api/posts';\nimport { getPostComments, deleteComment } from '../../api/comments';\n\nimport { NewCommentForm } from '../NewCommentForm';\nimport './PostDetails.scss';\n\nexport const PostDetails = ({ selectedPostId }) => {\n  const [postComments, setpostComments] = useState(null);\n  const [selectedPost, setSelectedPost] = useState(null);\n  const [hideComments, setHideComments] = useState(false);\n\n  const handleDelete = async(id) => {\n    await deleteComment(id);\n    getPostComments(selectedPostId)\n      .then(result => setpostComments(result));\n  };\n\n  const newRenderOfComments = () => {\n    getPostComments(selectedPostId)\n      .then(result => setpostComments(result));\n  };\n\n  useEffect(() => {\n    getPostComments(selectedPostId)\n      .then(result => setpostComments(result));\n\n    getPostDetails(selectedPostId)\n      .then(result => setSelectedPost(result));\n  }, [selectedPostId]);\n\n  if (!selectedPost || !postComments) {\n    return 'Loading...';\n  }\n\n  return (\n    <div className=\"PostDetails\">\n      <h2>Post details:</h2>\n\n      <section className=\"PostDetails__post\">\n        <h3>{selectedPost.title}</h3>\n        <p>{selectedPost.body}</p>\n\n      </section>\n\n      <section className=\"PostDetails__comments\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={() => setHideComments(!hideComments)}\n        >\n          {\n            hideComments\n              ? `Show ${postComments.length} comments`\n              : `Hide ${postComments.length} comments`\n          }\n        </button>\n\n        {\n          hideComments\n          || (\n            <ul className=\"PostDetails__list\">\n              {postComments.map(item => (\n                <li className=\"PostDetails__list-item\" key={item.id}>\n                  <button\n                    type=\"button\"\n                    className=\"PostDetails__remove-button button\"\n                    onClick={() => handleDelete(item.id)}\n                  >\n                    X\n                  </button>\n                  <p>{item.body}</p>\n                </li>\n              ))}\n            </ul>\n          )\n        }\n      </section>\n\n      <section>\n        <div className=\"PostDetails__form-wrapper\">\n          <NewCommentForm\n            selectedPostId={selectedPostId}\n            newRenderOfComments={newRenderOfComments}\n          />\n        </div>\n      </section>\n    </div>\n  );\n};\n\nPostDetails.propTypes = {\n  selectedPostId: PropTypes.number.isRequired,\n};\n","import React, { useState } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\n\nconst App = () => {\n  const [selectedPostId, setSelecteUserId] = useState(null);\n  const [selectedPost, setSelecteUser] = useState(null);\n  const [searchByUser, setSearchByUser] = useState(0);\n\n  const getPost = (userId, post) => {\n    setSelecteUserId(userId);\n    setSelecteUser(post);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <label>\n          Select a user: &nbsp;\n\n          <select\n            className=\"App__user-selector\"\n            value={searchByUser}\n            onChange={({ target }) => setSearchByUser(target.value)}\n          >\n            <option\n              value={0}\n            >\n              All users\n            </option>\n\n            <option\n              value={1}\n            >\n              Leanne Graham\n            </option>\n\n            <option\n              value={2}\n            >\n              Ervin Howell\n            </option>\n\n            <option\n              value={3}\n            >\n              Clementine Bauch\n            </option>\n\n            <option\n              value={4}\n            >\n              Patricia Lebsack\n            </option>\n\n            <option\n              value={5}\n            >\n              Chelsey Dietrich\n            </option>\n\n            <option\n              value={6}\n            >\n              Mrs. Dennis Schulist\n            </option>\n\n            <option\n              value={7}\n            >\n              Kurtis Weissnat\n            </option>\n\n            <option\n              value={8}\n            >\n              Nicholas Runolfsdottir V\n            </option>\n\n            <option\n              value={9}\n            >\n              Glenna Reichert\n            </option>\n\n            <option\n              value={10}\n            >\n              Leanne Graham\n            </option>\n          </select>\n        </label>\n      </header>\n\n      <main className=\"App__main\">\n        <div className=\"App__sidebar\">\n          <PostsList\n            onTakePost={getPost}\n            searchByUser={searchByUser}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          {\n            !selectedPostId\n            || (\n              <PostDetails\n                selectedPostId={selectedPostId}\n                selectedPost={selectedPost}\n              />\n            )\n          }\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}